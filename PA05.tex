\documentclass[titlepage]{article}
\usepackage{fullpage}
\usepackage{graphicx}
\usepackage{biblatex}
\usepackage[super]{nth}

% Package imports go above this line
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Title Page
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\title{ \Huge{COS221 - Practical 5} \\  \Large{NOT\_NULL\_CREW} \vspace{0em}}
\author{%
\begin{tabular}{c c c} 
Jonelle Coertze \\ \normalsize{u21446271} \\ \\
Arno Jooste \\ \normalsize{u21457451} \\ \\
Jake Weatherhead \\ \normalsize{u04929552} \\
\end{tabular} \and
\begin{tabular}{c c c} 
Wian Koekemoer \\ \normalsize{u19043512} \\ \\
Reuben Jooste \\ \normalsize{u21457060} \\ \\
Themba Mdluli \\ \normalsize{u19234806} \\
\end{tabular}
\date{}
}

\begin{document}
\maketitle
\pagebreak

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Contents Page
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\tableofcontents
\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Research and Analysis of Golf
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Task 1: Research and Analysis of Golf}

\subsection{General Overview And Explanation Of Golf}
Golf is a club-and-ball sport where players use various clubs to hit %
balls into a series of holes on a course in as few strokes as possible. 
Strokes are how golfers advance the ball around the golf course, and each %
stroke is counted as part of keeping score. However, some strokes are not counted: %

\begin{itemize}
  \item If a golfer completes a swing but intentionally misses the golf ball, that does % 
        not count as a stroke. Such a situation might arise from a last minute distraction, %
        perhaps from a spectator or from the weather conditions.

  \item If a golfer stops their swing before contacting the ball, this does not count as a stroke.
  \item Depending on the intent of the player, it is possible to miss the golf ball and %
        still have to count that miss as a stroke. If the player changed the course of their %
        swing intentionally, no stroke is counted. However if the player was trying to hit %
        the ball and misses unintentionally, a stroke is recorded.
        
  \item There is a penalty stroke incurred by the player for the violation of certain rules %
        as governed by the golfing association in charge of the tournament being played.

  \item There is, also, the concept of a handicap stroke whereby a player, perhaps of lesse r%
        ability, is entitled to additional strokes on a hole without affecting their overall %
        score, as a way of levelling the playing field.
\end{itemize} \vspace{10pt}

\noindent
Par is the term used to describe the number of strokes that a golfer with a zero-handicap will %
require to finish a specific hole. Every hole on every golf course has a par value. Players can %
take their final score and compare it to the par for the course being played. For example, if %
a player scores 68 on a par-72 course, they will have a score of  4-under-par, often stylised %
as -4. Likewise, if they score 76, that would be 4-over-par, or +4. \\

\noindent
In serious stroke play competitions, where large prize-pools are involved, golfers are required %
to finish every hole, regardless of the number of strokes this may take. In handicap competitions, %
players subtract their handicap from their total gross score and judge their resultant score %
against the par for the course. For example, if a golfer has a handicap of 12, they deduct 12 strokes %
from their final score at the end of the round. A gross score of 84 would therefore produce a final score of 72. \\ \\

\noindent
There are three different formats of golf that can be played:

\begin{itemize}
  \item \textbf{Stroke play:} the winner is the golfer who uses the fewest number of strokes for the full round of golf (normally 18 holes).
  \item \textbf{Match play:} the winner of the match is the golfer who achieves the lowest score on the most holes.
  \item \textbf{Stabelford:} the winner is the golfer with the most points at the end of the round, as the number of strokes a golfer uses on each hole is converted into points earned.
\end{itemize}

\subsection{Golf is a single-player sport}

The game can be played by any number of people, although, typically a group of 2-4 players will play %
each hole together. The normal amount of time required for pace of play for a nine hole round is %
two hours, and for an 18-hole round it is four hours. Even though any number of people can play, %
everyone is a separate entity, which means it is a single player sport played by several people in %
tandem. During international tournaments, the elite golfers play as single entities and normally tee %
off in groups of two.

\subsection{Actions in the sport of Golf}

For every player, every stroke can be seen as an action. The result of the stroke can be captured in %
terms of distance, club used and where the ball falls (on the fairway, in the rough or on the putting-green). \\

\noindent
Additionally, the score per player, per hole, per tournament will be kept as well as the leader %
board at the end of each round per tournament. \\

\noindent
At the tour-level, various statistics can be derived, for example: 

\begin{enumerate}
  \item Most Rounds Below 65
  \item Top-10 Finishes
  \item Scoring Averages
  \item Average Driving Distance Off The Tee
  \item Putting-Greens Reached in Regulation
  \item Fairways Hit Off The Tee
\end{enumerate}

\subsection{Location / Date / Time}

Golf events normally take place on a single, physical golf course over four days. Each day, every golfer %
must play one round (18 holes) of golf. We can take the PGA Championship for the 2021-2022 season as an %
example which takes place in Tulsa, Oklahoma on May 19-22, 2022 in Southern Hills Course One. This %
championship has four rounds taking place from 1pm to 7pm Eastern time over four days resulting in a %
total of 72 holes.

\subsection{Sport Structure}

There are numerous golfing federations around the world, but the governing body of world golf is the %
International Golf Federation (IGF) and is the recognised International Federation within the Olympic %
and Paralympic Movement. There are 150 members of the IGF in 147 countries. More than 60 million %
players are registered at these federations. Among these is GOLFRSA, the main governing body of %
golf in South Africa.  \\

\noindent
During a golfing season, various tournaments are hosted by these members. These tournaments can %
be single events or multiple events as part of a tour, such as the Professional Golfers’ %
Association (PGA) tour in the United States, and the Sunshine Tour in South Africa. \\

\noindent
As previously mentioned, in most tournaments, players are seen as single entities, and not as %
teams, and so the concept of a team generally does not exist in golf. Each tournament takes %
place at a single golf course, although the various tournaments of a golf tour will take place %
at different locations. \\

\noindent
At the end of a tournament, the winner is the player who completes all the holes in the round %
in the fewest number of shots, thereby achieving the lowest score.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% (E)ER-Diagram
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Task 2: (E)ER-Diagram - Iterations And Comments}
\vspace{2em}
\subsubsection{\nth{1} Iteration}
After an initial assessment of the specifications, we produced the first iteration of our (E)ER-diagram (depicted below).
\vspace{2em}
\begin{center}
  \includegraphics[width=1\textwidth]{./EER1.PNG}
\end{center}

\newpage
\noindent
\subsubsection{\nth{2} Iteration}
During the conversion of our (E)ER-diagram to a relational mapping, we realized that it would be best to add the 
tournamentId attribute to the TOURNAMENT entity in order to reduce the number of fields in other relations. We 
also realized that the relationship, CONSISTS\_OF between ROUND and HOLE is not necessary because the
KEEPS\_SCORE relationship already contains this relationship. Lastly, we realized that our statistics 
relations did not contain enough attributes, and so we expanded upon the existing relations to capture more detail.
\vspace{2em}
\begin{center}
  \includegraphics[width=1\textwidth]{./EER2.PNG}
\end{center}

\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Relational Mapping
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Task 3: Relational Mapping}

\vspace{2em}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Step 1
\subsection{Step 1: Mapping Of Regular Entity Types}
\vspace{1em}
\noindent
In step 1, we mapped all the strong entity types and included their simple attributes,
including the simple attributes of composite attributes. 
\vspace{1em}
\begin{center}
\includegraphics[width=0.7\textwidth]{./map1.PNG}
\end{center}
\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Step 2
\subsection{Step 2: Mapping Of Weak Entity Types}
\vspace{1em}
\noindent
In step 2, we mapped the weak entities along with their simple attributes.
\vspace{1em}
\begin{center}
\includegraphics[width=0.7\textwidth]{./map2.PNG}
\end{center}
\newpage


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Step 3
\subsection{Step 3: Mapping Of Binary 1:1 Relationship Types}
\vspace{1em}
\noindent
In step 3, our diagram stayed the same because we do not have any 1:1 relationships.
\vspace{1em}
\begin{center}
\includegraphics[width=0.8\textwidth]{./map3.PNG}
\end{center}
\newpage


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Step 4
\subsection{Step 4: Mapping Of Binary 1:N Relationship Types}
\vspace{1em}
\noindent
In step 4, we added all the 1:N Relationships. For all these relationships, we decided to use
the foreign key approach, so we added the primary key of the relation on the 1 side
to the relation on the N side as a foreign key.
\vspace{1em}
\begin{center}
\includegraphics[width=0.9\textwidth]{./map4.PNG}
\end{center}
\newpage


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Step 5
\subsection{Step 5: Mapping Of Binary M:N Relationship Types}
\vspace{1em}
\noindent
In step 5, we added all the M:N relationships as new relations. We added a unique ID to each
weak entity type of step 2 to ensure that we do not have redundant data.
\vspace{1em}
\begin{center}
\includegraphics[width=0.8\textwidth]{./map5.PNG}
\end{center}
\newpage


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Step 6
\subsection{Step 6: Mapping Of Multivalued Attributes}
\vspace{1em}
\noindent
In step 6, we have ‘location’ in a few different entities and we decided to go with the same
approach as the SportsDB. Thus, LOCATION is a relation on its own and then we
also incorporated it into our multivalued attribute relations
\vspace{1em}
\begin{center}
\includegraphics[width=0.9\textwidth]{./map6.PNG}
\end{center}
\newpage



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Step 7
\subsection{Step 7: Mapping Of N-ary Relationship Types}
\vspace{1em}
\noindent
In step 7, we have only 1 3-ary relationship to keep score. We decided to create a new
relation for that relationship.
\vspace{1em}
\begin{center}
\includegraphics[width=0.8\textwidth]{./map7.PNG}
\end{center}
\newpage


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Step 8
\subsection{Step 8: Mapping Specialization or Generalization}
\vspace{1em}
\noindent
In step 8, we have one specialization named STATISTICS. We added the statistics with its
subclasses into a single relation with multiple type attributes because we have an
overlapping specialization.
\vspace{1em}
\begin{center}
\includegraphics[width=0.9\textwidth]{./map8.PNG}
\end{center}
\newpage


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Step 9
\subsection{Step 9: Mapping Of Union Types (Categories)}
\vspace{1em}
\noindent
In step 9, our diagram stayed the same because we do not have any union types.
\vspace{1em}
\begin{center}
\includegraphics[width=0.9\textwidth]{./map9.PNG}
\end{center}
\newpage


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Relational Exclusion
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Task 4: Relational Exclusion}

\vspace{1em}

We used the following assumptions when creating our database:

\begin{itemize}
  \item We are allowed to add columns to existing SportsDB tables – as confirmed by our mentor Maryam.
  \item For the visual diagram, we used the format of task 3 and added all other necessary information – as confirmed by our mentor Maryam.
  \item We do not have to use all the tables in the SportsDB.
\end{itemize}

\vspace{0.5em}

\subsection{Map Relational Model To SportsDB}

We mapped our relation model to the SportsDB and added columns and new tables as needed:

\vspace{1em}
\subsubsection{Users Relation}
\vspace{2pt}
\begin{center}
\includegraphics[width=0.9\textwidth]{./t41.PNG}
\end{center}

\vspace{1em}
\subsubsection{Player, Organization and Tour Relations}
\vspace{2pt}
\begin{center}
\includegraphics[width=0.9\textwidth]{./t42.PNG}
\end{center}

\vspace{1em}
\subsubsection{Tournament, Course and Media Relations}
\vspace{2pt}
\begin{center}
\includegraphics[width=0.9\textwidth]{./t43.PNG}
\end{center}

\vspace{1em}
\subsubsection{Hole, Round, Player\_Media and Stroke Relations}
\vspace{2pt}
\begin{center}
\includegraphics[width=0.9\textwidth]{./t44.PNG}
\end{center}

\vspace{1em}
\subsubsection{Location, Player\_Location and Tournament\_Schedule Relations}
\vspace{2pt}
\begin{center}
\includegraphics[width=0.9\textwidth]{./t45.PNG}
\end{center}

\vspace{1em}
\subsubsection{Score Relation}
\vspace{2pt}
\begin{center}
\includegraphics[width=0.9\textwidth]{./t46.PNG}
\end{center}

\vspace{1em}
\subsubsection{Statistics Relation}
\vspace{2pt}
\begin{center}
\includegraphics[width=0.9\textwidth]{./t47.PNG}
\end{center}

\vspace{1em}
\newpage
\subsection{SQL to add changes to the database}

\begin{itemize}

\item Create new table USERS: \vspace{1em}

\hspace{15pt}CREATE TABLE `users` ( \\
\-\ \hspace{30pt}`id` int(11) NOT\ NULL AUTO\_INCREMENT, \\
\-\ \hspace{30pt}`email` varchar(320) NOT NULL, \\
\-\ \hspace{30pt}`password` varchar(100) NOT NULL, \\
\-\ \hspace{30pt}`tel\_no` char(10) NOT NULL, \\
\-\ \hspace{30pt}`user\_type` varchar(6) NOT NULL, \\
\-\ \hspace{30pt}`first\_name` varchar(100) NOT NULL, \\
\-\ \hspace{30pt}`init` varchar(5) DEFAULT NULL, \\
\-\ \hspace{30pt}`last\_name` varchar(100) NOT NULL, \\
\-\ \hspace{30pt}PRIMARY KEY (`id`), \\
\-\ \hspace{30pt}UNIQUE KEY `email` (`email`), \\
\-\ \hspace{30pt}CONSTRAINT `CHK\_tel` CHECK (`tel\_no` regexp '0[0-9]\{9\}'), \\
\-\ \hspace{30pt}CONSTRAINT `CHK\_type` CHECK (`user\_type` regexp '(admin$\vert$normal)') \\
\-\ \hspace{15pt}) ENGINE=InnoDB AUTO\_INCREMENT=3 DEFAULT CHARSET=utf8mb4;

\vspace{1em}

\item Add one new column ADDRESS\_ID to table SITES: \vspace{1em}

\begin{itemize}
  \item ALTER TABLE sites ADD COLUMN address\_id INT(11) NOT NULL;
  \item ALTER TABLE sites ADD CONSTRAINT fk\_address\_id
  \item FOREIGN KEY (address\_id) REFERENCES ADDRESSES (id);
\end{itemize}

\vspace{1em}

\item Create new table HOLES: \vspace{1em}

\hspace{15pt}CREATE TABLE `holes` ( \\
\-\ \hspace{30pt}`id` int(11) NOT NULL AUTO\_INCREMENT, \\
\-\ \hspace{30pt}`hole\_no` int(2) NOT NULL, \\
\-\ \hspace{30pt}`site\_id` int(11) NOT NULL, \\
\-\ \hspace{30pt}`par` int(2) NOT NULL, \\
\-\ \hspace{30pt}`length` decimal(10,2) NOT NULL, \\
\-\ \hspace{30pt}PRIMARY KEY (`id`), \\
\-\ \hspace{30pt}UNIQUE KEY `hole\_no` (`hole\_no`,`site\_id`), \\
\-\ \hspace{30pt}KEY `site\_id` (`site\_id`), \\
\-\ \hspace{30pt}CONSTRAINT `holes\_ibfk\_1` FOREIGN KEY (`site\_id`) REFERENCES `sites` (`id`), \\
\-\ \hspace{30pt}CONSTRAINT `CHK\_hole\_no` CHECK (`hole\_no` $>$ 0), \\
\-\ \hspace{30pt}CONSTRAINT `CHK\_par` CHECK (`par` $>$ 0), \\
\-\ \hspace{30pt}CONSTRAINT `CHK\_length` CHECK (`length` $>$ 0) \\
\-\ \hspace{15pt}) ENGINE=InnoDB AUTO\_INCREMENT=3 DEFAULT CHARSET=utf8mb4; \\
\newpage

\vspace{1em}

\item Add attiribute MANAGER\_ID to table AFFILIATIONS: \vspace{1em}

\begin{itemize}
  \item ALTER TABLE affiliations ADD COLUMN manager\_id INT(11);
  \item ALTER TABLE affiliations ADD CONSTRAINT fk\_manager\_id \\ FOREIGN KEY (manager\_id) REFERENCES AFFILIATIONS (id);
\end{itemize}

\vspace{1em}

\item Create new table TOURS: \vspace{1em}

\hspace{15pt}CREATE TABLE `tours` ( \\
\-\ \hspace{30pt}`id` int(11) NOT NULL AUTO\_INCREMENT, \\
\-\ \hspace{30pt}`tour\_name` varchar(100) NOT NULL, \\
\-\ \hspace{30pt}`affiliation\_id` int(11) NOT NULL, \\
\-\ \hspace{30pt}PRIMARY KEY (`id`), \\
\-\ \hspace{30pt}UNIQUE KEY `tour\_name` (`tour\_name`), \\
\-\ \hspace{30pt}KEY `FK\_tours\_aff\_id\_\_aff\_id` (`affiliation\_id`), \\
\-\ \hspace{30pt}CONSTRAINT `FK\_tours\_aff\_id\_\_aff\_id` FOREIGN KEY (`affiliation\_id`) REFERENCES \\ \-\ \hspace{30pt} `affiliations` (`id`) \\
\-\ \hspace{15pt}) ENGINE=InnoDB AUTO\_INCREMENT=3 DEFAULT CHARSET=utf8mb4;

\vspace{1em}

\item Add three new columns to table EVENTS: \vspace{1em}

\begin{itemize}
  \item ALTER TABLE events ADD COLUMN gender set(‘Men‘, ‘Women‘) NOT NULL;
  \item ALTER TABLE events ADD COLUMN tour\_id INT(11);
  \item ALTER TABLE events ADD COLUMN year INT(4) NOT NULL;
  \item ALTER TABLE events ADD CONSTRAINT fk\_tour\_id \\ FOREIGN KEY (tour\_id) REFERENCES TOURS (id);
\end{itemize}

\vspace{1em}

\item Create new table ROUNDS: \vspace{1em}

\hspace{15pt}CREATE TABLE `rounds` ( \\
\-\ \hspace{30pt}`id` int(11) NOT NULL AUTO\_INCREMENT, \\
\-\ \hspace{30pt}`round\_no` int(2) NOT NULL, \\
\-\ \hspace{30pt}`event\_id` int(11) NOT NULL, \\
\-\ \hspace{30pt}`leader\_id` int(11) DEFAULT NULL, \\
\-\ \hspace{30pt}`state` set('Scheduled','In progress','Finished','Cancelled','Postponed') NOT NULL, \\
\-\ \hspace{30pt}PRIMARY KEY (`id`), \\
\-\ \hspace{30pt}UNIQUE KEY `round\_no` (`round\_no`,`event\_id`), \\
\-\ \hspace{30pt}KEY `FK\_rounds\_event\_id\_\_events\_id` (`event\_id`), \\
\-\ \hspace{30pt}KEY `FK\_rounds\_leader\_id\_\_persons\_id` (`leader\_id`), \\
\-\ \hspace{30pt}CONSTRAINT `FK\_rounds\_event\_id\_\_events\_id` FOREIGN KEY (`event\_id`) REFERENCES \\ \-\ \hspace{30pt} `events` (`id`), \\
\-\ \hspace{30pt}CONSTRAINT `FK\_rounds\_leader\_id\_\_persons\_id` FOREIGN KEY (`leader\_id`) REFERENCES \\ \-\ \hspace{30pt} `persons` (`id`) \\
\-\ \hspace{15pt}) ENGINE=InnoDB AUTO\_INCREMENT=3 DEFAULT CHARSET=utf8mb4;

\vspace{1em}

\item Create new table TOURNAMENT\_SCHEDULE: \vspace{1em}

\hspace{15pt}CREATE TABLE `tournament\_schedules` ( \\
\-\ \hspace{30pt}`id` int(11) NOT NULL AUTO\_INCREMENT, \\
\-\ \hspace{30pt}`event\_id` int(11) NOT NULL, \\
\-\ \hspace{30pt}`date` date NOT NULL, \\
\-\ \hspace{30pt}`start\_time` time NOT NULL, \\
\-\ \hspace{30pt}`end\_time` time NOT NULL, \\
\-\ \hspace{30pt}PRIMARY KEY (`id`), \\
\-\ \hspace{30pt}UNIQUE KEY `event\_id` (`event\_id`,`date`), \\
\-\ \hspace{30pt}CONSTRAINT `FK\_tourn\_sched\_event\_id\_\_events\_id` FOREIGN KEY (`event\_id`) \\ \-\ \hspace{30pt} REFERENCES `events` (`id`), \\
\-\ \hspace{30pt}CONSTRAINT `CHK\_time` CHECK (`start\_time` $<$ `end\_time`) \\
\-\ \hspace{15pt}) ENGINE=InnoDB AUTO\_INCREMENT=3 DEFAULT CHARSET=utf8mb4;

\vspace{1em}

\item Add three new columns to table PERSONS: \vspace{1em}


\begin{itemize}
  \item ALTER TABLE persons ADD COLUMN age INT(4) NOT NULL;
  \item ALTER TABLE persons ADD COLUMN handicap INT(4);
  \item ALTER TABLE persons ADD COLUMN affiliation\_id INT(11) NOT NULL;
  \item ALTER TABLE persons ADD CONSTRAINT fk\_affiliation\_id \\ FOREIGN KEY (affiliation\_id) REFERENCES AFFILIATIONS (id);
\end{itemize}

\vspace{1em}

\item Create new table SCORES: \vspace{1em}

\hspace{15pt}CREATE TABLE `scores` ( \\
\-\ \hspace{30pt}`person\_id` int(11) NOT NULL, \\
\-\ \hspace{30pt}`round\_id` int(11) NOT NULL, \\
\-\ \hspace{30pt}`hole\_id` int(11) NOT NULL, \\
\-\ \hspace{30pt}`net\_score` int(3) DEFAULT NULL, \\
\-\ \hspace{30pt}`stroke\_count` int(2) DEFAULT NULL, \\
\-\ \hspace{30pt}`birdie` tinyint(1) DEFAULT NULL, \\
\-\ \hspace{30pt}`eagle` tinyint(1) DEFAULT NULL, \\
\-\ \hspace{30pt}`bogey` tinyint(1) DEFAULT NULL, \\
\-\ \hspace{30pt}`double\_bogey` tinyint(1) DEFAULT NULL, \\
\-\ \hspace{30pt}PRIMARY KEY (`person\_id`,`round\_id`,`hole\_id`), \\
\-\ \hspace{30pt}KEY `FK\_scores\_round\_id\_\_rounds\_id` (`round\_id`), \\
\-\ \hspace{30pt}KEY `FK\_scores\_hole\_id\_\_holes\_id` (`hole\_id`), \\
\-\ \hspace{30pt}CONSTRAINT `FK\_scores\_hole\_id\_\_holes\_id` FOREIGN KEY (`hole\_id`) REFERENCES \\ \-\ \hspace{30pt} `holes` (`id`), \\
\-\ \hspace{30pt}CONSTRAINT `FK\_scores\_person\_id\_\_persons\_id` FOREIGN KEY (`person\_id`) REFERENCES \\ \-\ \hspace{30pt} `persons` (`id`), \\
\-\ \hspace{30pt}CONSTRAINT `FK\_scores\_round\_id\_\_rounds\_id` FOREIGN KEY (`round\_id`) REFERENCES \\ \-\ \hspace{30pt} `rounds` (`id`), \\
\-\ \hspace{30pt}CONSTRAINT `CHK\_strokes` CHECK (`stroke\_count` $>=$ 0) \\
\-\ \hspace{15pt}) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; 

\vspace{1em}

\item Create new table STROKES: \vspace{1em}

\hspace{15pt}CREATE TABLE `strokes` ( \\
\-\ \hspace{30pt}`stroke\_no` int(2) NOT NULL, \\
\-\ \hspace{30pt}`round\_id` int(11) NOT NULL, \\
\-\ \hspace{30pt}`hole\_id` int(11) NOT NULL, \\
\-\ \hspace{30pt}`person\_id` int(11) NOT NULL, \\
\-\ \hspace{30pt}`club\_used` varchar(100) NOT NULL, \\
\-\ \hspace{30pt}`distance` decimal(10,2) DEFAULT NULL, \\
\-\ \hspace{30pt}`landing` set('Penalty','Fairway','Rough','Bunker','Green','Hole') NOT NULL, \\
\-\ \hspace{30pt}PRIMARY KEY (`stroke\_no`,`round\_id`,`hole\_id`,`person\_id`), \\
\-\ \hspace{30pt}KEY `FK\_strokes\_person\_id\_\_persons\_id` (`person\_id`), \\
\-\ \hspace{30pt}KEY `FK\_strokes\_round\_id\_\_rounds\_id` (`round\_id`), \\
\-\ \hspace{30pt}KEY `FK\_strokes\_hole\_id\_\_holes\_id` (`hole\_id`), \\
\-\ \hspace{30pt}CONSTRAINT `FK\_strokes\_hole\_id\_\_holes\_id` FOREIGN KEY (`hole\_id`) REFERENCES \\ \-\ \hspace{30pt} `holes` (`id`), \\
\-\ \hspace{30pt}CONSTRAINT `FK\_strokes\_person\_id\_\_persons\_id` FOREIGN KEY (`person\_id`) REFERENCES \\ \-\ \hspace{30pt} `persons` (`id`), \\
\-\ \hspace{30pt}CONSTRAINT `FK\_strokes\_round\_id\_\_rounds\_id` FOREIGN KEY (`round\_id`) REFERENCES \\ \-\ \hspace{30pt} `rounds` (`id`), \\
\-\ \hspace{30pt}CONSTRAINT `CHK\_stroke\_no` CHECK (`stroke\_no` $>$ 0) \\
\-\ \hspace{15pt}) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

\vspace{1em}
\newpage
\item Create new table GOLF\_STATISTICS: \vspace{1em}

\hspace{15pt}CREATE TABLE `golf\_statistics` ( \\
\-\ \hspace{30pt}`id` int(11) NOT NULL, \\
\-\ \hspace{30pt}`entity\_type` varchar(100) NOT NULL, \\
\-\ \hspace{30pt}`entity\_id` int(11) NOT NULL, \\
\-\ \hspace{30pt}`person\_id` int(11) DEFAULT NULL, \\
\-\ \hspace{30pt}`tour\_ind` tinyint(1) DEFAULT NULL, \\
\-\ \hspace{30pt}`event\_ind` tinyint(1) DEFAULT NULL, \\
\-\ \hspace{30pt}`round\_ind` tinyint(1) DEFAULT NULL, \\
\-\ \hspace{30pt}`player\_ind` tinyint(1) DEFAULT NULL, \\
\-\ \hspace{30pt}`winner\_id` int(11) DEFAULT NULL, \\
\-\ \hspace{30pt}`leader\_id` int(11) DEFAULT NULL, \\
\-\ \hspace{30pt}`no\_of\_eagles` int(3) DEFAULT NULL, \\
\-\ \hspace{30pt}`no\_of\_birdies` int(3) DEFAULT NULL, \\
\-\ \hspace{30pt}`no\_of\_bogeys` int(3) DEFAULT NULL, \\
\-\ \hspace{30pt}`no\_of\_double\_bogeys` int(3) DEFAULT NULL, \\
\-\ \hspace{30pt}`max\_drive` decimal(10,2) DEFAULT NULL, \\
\-\ \hspace{30pt}`top10\_cnt` int(6) DEFAULT NULL, \\
\-\ \hspace{30pt}`avg\_net\_score` int(6) DEFAULT NULL, \\
\-\ \hspace{30pt}`win\_cnt` int(6) DEFAULT NULL, \\
\-\ \hspace{30pt}`position` int(6) DEFAULT NULL, \\
\-\ \hspace{30pt}PRIMARY KEY (`id`), \\
\-\ \hspace{30pt}UNIQUE KEY `entity\_type` (`entity\_type`,`entity\_id`,`person\_id`), \\
\-\ \hspace{30pt}KEY `FK\_golf\_statistics\_person\_id\_\_persons\_id` (`person\_id`), \\
\-\ \hspace{30pt}KEY `FK\_golf\_statistics\_winner\_id\_\_persons\_id` (`winner\_id`), \\
\-\ \hspace{30pt}KEY `FK\_golf\_statistics\_leader\_id\_\_persons\_id` (`leader\_id`), \\
\-\ \hspace{30pt}CONSTRAINT `FK\_golf\_statistics\_leader\_id\_\_persons\_id` FOREIGN KEY (`leader\_id`) \\ \-\ \hspace{30pt} REFERENCES `persons` (`id`), \\
\-\ \hspace{30pt}CONSTRAINT `FK\_golf\_statistics\_person\_id\_\_persons\_id` FOREIGN KEY (`person\_id`) \\ \-\ \hspace{30pt} REFERENCES `persons` (`id`), \\
\-\ \hspace{30pt}CONSTRAINT `FK\_golf\_statistics\_winner\_id\_\_persons\_id` FOREIGN KEY (`winner\_id`) \\ \-\ \hspace{30pt} REFERENCES `persons` (`id`), \\
\-\ \hspace{30pt}CONSTRAINT `CHK\_no\_of\_eagles` CHECK (`no\_of\_eagles` $>=$ 0), \\
\-\ \hspace{30pt}CONSTRAINT `CHK\_no\_of\_birdies` CHECK (`no\_of\_birdies` $>=$ 0), \\
\-\ \hspace{30pt}CONSTRAINT `CHK\_no\_of\_bogeys` CHECK (`no\_of\_bogeys` $>=$ 0), \\
\-\ \hspace{30pt}CONSTRAINT `CHK\_no\_of\_double\_bogeys` CHECK (`no\_of\_double\_bogeys` $>=$ 0), \\
\-\ \hspace{30pt}CONSTRAINT `CHK\_max\_drive` CHECK (`max\_drive` $>=$ 0), \\
\-\ \hspace{30pt}CONSTRAINT `CHK\_top10\_cnt` CHECK (`top10\_cnt` $>=$ 0), \\
\-\ \hspace{30pt}CONSTRAINT `CHK\_win\_cnt` CHECK (`win\_cnt` $>=$ 0), \\
\-\ \hspace{30pt}CONSTRAINT `CHK\_position` CHECK (`position` $>=$ 0) \\
\-\ \hspace{15pt}) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

\vspace{1em}

\end{itemize}
\newpage

\subsection{Visual Diagram}

\begin{center}
\includegraphics[width=0.66\textwidth]{blueMap.png}
\end{center}
\newpage

\subsection{Final MySQL-generated EER-Diagram}
\vspace{1em}
\noindent
This is the final EER diagram produced by MySQL Workbench of all the tables that will be used in our project: 
\vspace{1em}
\begin{center}
  \includegraphics[trim={0 0 0 0.03cm},clip, width=1\textwidth]{sqlschema.png}
\end{center}
\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Web Management
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Task 5: Web Management}
\vspace{1em}
Our team created web pages for the following tasks:
\vspace{1em}
\begin{itemize}
	\item Manage Users
  \item Login 
  \item Manage locations 
	\item Manage addresses
	\item Manage courses (sites)
	\item Manage holes at courses
	\item Manage organizations 
	\item Manage tours
  \item Manage tournaments 
	\item Manage rounds
  \item Manage tournament schedule
	\item Manage players
	\item Register players for tournaments
	\item Manage scores
	\item Manage media
	\item Display statistics
\end{itemize}

Please see our GitHub repository for the source code of these pages.
\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Sample Data
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Task 6: Sample Data}
\vspace{1em}
Please see the following files on our GitHub repository:
\vspace{1em}
\begin{itemize}
  \item PA5\_Base\_Relations.sql
  \item pa5\_golf\_schema.sql
  \item Sample Data folder contains several JSON files of sample data that we curated by hand.
\end{itemize}
\vspace{1em}
\subsection{Explanation Of Methods}
\vspace{1em}
For some relations, it was feasible to manually create JSON-objects within javascript (see Sample Data folder on GitHub) files and query an API that Wian
created in order to populate the tables. However, this approach did not scale well to relations such as SCORES which required
3600 tuples (ten players, five tournaments, four rounds per tournament and 18 holes played per round). For this relation,
and others requiring a similiar number of tuples, we opted for an algorithmic approach that populated these relations with 
coherent data, across many tuples using nested for-loops (for an example see Sample Data/ populateScores.js).

\newpage


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Analysis and Optimisation
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Task 7: Analysis and Optimisation}
\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Comments on Development
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Task 8: Comments on Development}

\subsection{Usage of git}
We have multiple git commits, from multiple members of the team across several javascript, PHP, CSS and SQL files.

\subsection{Data validation}
Multiple instances of data validation using Javascript can be found in our GitHub repository.

\subsubsection{js/addresses.js}
When a user wants to add or modify existing data in the addresses relation, our system first verifies that the
input-language is a valid language and in the correct format. The same is done with the inputted street data
and the inputted country.

\subsubsection{js/locations.js}
Here our system queries an API to verify that the inputted location is valid.

\subsubsection{js/viewCourses.js}
Here we used an in-house API to validate that the passed-in publisher, location and address are valid.

\subsubsection{js/inputValidationLogin.js}
Here we used ReGex to validate the name, surname, password and email required parameters.

\subsubsection{js/inputValidationPlayers.js}
Here we built javascript functions to validate that the user is over the age of 18. 

\subsubsection{js/inputValidationSignUp.js}
Here, again, we used ReGex, this time to validate the name, surname, password, email, telephone number,
and the initials requirement.

\subsection{Git commit message format}
For our git commit messages we agreed before starting to include in our commit messages the name of the team member
pushing the changes. This standard was, largely, followed throughout except where team members chose to include
a descriptive message of the changes made.

\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Comments on Development
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Task 9: Demo And Contributions}
\vspace{1em}
\subsection{Contributions}
\vspace{1em}
\subsubsection*{u21446271 – Jonelle Coertze}
\vspace{1em}
\begin{itemize}
  \item I am the manager of the team. As such, I ensured that every team member knew what was expected of them. I also 
        followed up regularly and assisted the team in all aspects of the project. I also communicated with our mentor,
        Maryam if we had any questions.
  \item For task 1, I collected all the research done by the team members and consolidated it into the final product
        of task 1 as seen in this document.
  \item For task 2, I created the EER diagram as a draft at first, which was then used to have meetings internally
        and with our mentor. I also produced the final EER diagram as seen in this document.
  \item For task 3, I took the relational mapping that Reuben and Arno produced and added the steps as seen in this document.
  \item For task 4, I took the relational mapping and the SportsDB document produced by Wian and I did the final design of
        the golf\_sportsdb. I produced the Excel mapping, the visual diagram and the SQL statements used to populate the
        database as seen in this document.
  \item For task 5, I programmed the following web pages:
  \begin{itemize}
    \item Manage organizations
    \item Manage tours 
  \end{itemize}
  \item For task 6, I produced a document which explained what needed to be done on each web page, how it maps to the
        database and included sample data.
  \item For task 8, I committed to GitHub and I ensured that I have validation in my code. I also created the README.txt document.
  \item For task 9, I collected the contributions from every team member and put it together as seen in this document.
\end{itemize}

\vspace{1em}
\subsubsection*{u21457451 – Arno Jooste}
\vspace{1em}
\begin{itemize}
  \item I was responsible for designing the web home page.
  \item I helped with the relational mapping.
  \item For task 5, I programmed the following web pages:
  \begin{itemize}
    \item Manage tournaments
    \item Manage tournament schedules page
    \item Manage players’ scores. 
    \item Register a player for a tournament,
    \item Display statistics
  \end{itemize}
  \item I also designed and implemented the sidebar menu on each page, as part of the navigation from one page to another. 
  \item As a final contribution, I also designed the website’s logo which is visible in the top left corner of each page.
\end{itemize}
\vspace{1em}

\subsubsection*{u21457060 – Reuben Jooste}
\vspace{1em}
\begin{itemize}
  \item I contributed a small part to task 1 which is the research part of this project. Providing the other team members
        with a couple of references to websites about golf and all the rules and techniques helped them quite a lot with task 1.
  \item I came up with the idea that the sport, Golf, would be a great choice for this project.
  \item I also made a big contribution to the relational mapping of the EER diagram.
  \item Most members contributed more to the other tasks of this practical therefore I felt like I needed to contribute
        more to the web programming.
  \item I came up with the design of the website
  \item For task 5, I programmed the following pages:
  \begin{itemize}
    \item Login 
    \item Signup 
    \item Manage users
    \item Manage players
    \item Manage media
    \item Display statistics
  \end{itemize}
  \item I also developed the unique ways to update, create and delete the different records in the database tables. 
        For example, instead of being directed to a new page there will be a popup asking for the input from the user.
  \item And finally. I provided assistance to any of the group members when they needed help with their part of the
        web programming.
  \item Overall. I feel like I did my part and fully contributed the 16.67\% that each group member need to contribute (there are 6 members).
\end{itemize}

\vspace{1em}
\subsubsection*{u19043512 – Wian Koekemoer}
\vspace{1em}
\begin{itemize}
  \item I took an outdated sportsDB dump and updated it to match the sportsDB 29 standard.
  \item I wrote the documentation for the sportsDB schema that was used to reach the final iteration of our conceptual model. 
  \item I updated the schema to match our model. 
  \item I worked extensively to create sound data for the database, producing multiple automated files.
  \item For task 5, I wrote the code for the following pages:
  \begin{itemize}
    \item Manage addresses 
    \item Manage locations 
    \item Manage courses
  \end{itemize}
\end{itemize}
\vspace{1em}
\subsubsection*{u19234806 – Themba Mdluli}
\vspace{1em}
\begin{itemize}
  \item I did most of the work for task 1 where I wrote the foundation for the golf research.
  \item For task 2, I created an EER diagram that we incorporated into the final EER diagram.
  \item For task 5, I did the programming of the following web pages:
  \begin{itemize}
    \item Manage rounds
    \item Manage holes
  \end{itemize}
\end{itemize}
\vspace{1em}
\subsubsection*{u04929552 - Jake Weatherhead}
\vspace{1em}
\begin{itemize}
  \item I used my previous experience with git and GitHub to coordinate the team around best practices with regards to cloning, 
        pulling, staging commits, forking repositories, and merging branches.
  \item I worked on understanding and finalising the conceptual design of the database.
  \item I collated the final pdf submission working, continuously, to understand, present, and explain the work produced
        by the group in a way that showcases our efforts.
  \item I have worked extensively on producing sample data, both by hand and by building an automated javascript data populator.
  \item Elsewhere, I volunteered whenever and wherever teammates needed my help.
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Bibliography
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newpage
\section{Bibliography}
\vspace{2em}
“PGA Championship.” Wikipedia, Wikimedia Foundation, 24 May 2022, \\
\-\ \hspace{15pt} https://en.wikipedia.org\/wiki\/PGA\_Championship \\

\noindent
Kelley, Brent. “Here's What Counts (and Doesn't Count) as a Stroke in Golf.” LiveAbout, LiveAbout, \\
\-\ \hspace{15pt} 3 Jan. 2019, https://www.liveabout.com/what-is-a-stroke-definition-1561404. \\

\noindent
“2022 PGA Championship Leaderboard.” PGA Championship, \\
\-\ \hspace{15pt} https://www.pgachampionship.com/leaderboard. \\

\noindent
“IGF National Members.” International Golf Federation, \\ 
\-\ \hspace{15pt} https://www.igfgolf.org/about-igf/nationalmembers/ \\ 

\noindent
Pgatour.com. “Golf Stat and Records: PGA Tour.” PGATour, \\
\-\ \hspace{15pt} https://www.pgatour.com/stats.html \\

\end{document}